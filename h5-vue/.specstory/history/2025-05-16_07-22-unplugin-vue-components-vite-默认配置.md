<!-- Generated by SpecStory -->

# unplugin-vue-components/vite é»˜è®¤é…ç½® (2025-05-16 15:22:14)

_**User**_

'unplugin-vue-components/vite' çš„é…ç½®é»˜è®¤å€¼æ˜¯ä»€ä¹ˆ

---

_**Assistant**_



---

Okay, I can help you with that. I'll search the web for the default configuration of `unplugin-vue-components/vite`.


---

<details>
            <summary>Searched web "unplugin-vue-components/vite default configuration" â€¢ **6** results</summary>
        
| Title | URL |
|-------|-----|
| On-demand components auto importing for Vue | https://github.com/unplugin/unplugin-vue-components |
| unplugin-vue-components | https://www.npmjs.com/package/unplugin-vue-components/v/0.14.0-beta.1 |
| Unplugin Vue Components | https://ui.vuestic.dev/extensions/unplugin-vue-components/ |
| GitHub - antfu/unplugin-vue-components: ğŸ“² On-demand components auto importing for Vue | https://github.com/antfu/unplugin-vue-components |
| GitHub - unplugin/unplugin-vue-components: ğŸ“² On-demand components auto importing for Vue | https://github.com/unplugin/unplugin-vue-components |
| unplugin-vue-components | https://www.npmjs.com/package/unplugin-vue-components |

</details>

---

Based on the information from the GitHub repository (https://github.com/unplugin/unplugin-vue-components), here are the default configuration values for `unplugin-vue-components/vite`:

```javascript
Components({
  // relative paths to the directory to search for components.
  dirs: ['src/components'],

  // valid file extensions for components.
  extensions: ['vue'],

  // Glob patterns to match file names to be detected as components.
  // When specified, the `dirs`, `extensions`, and `directoryAsNamespace` options will be ignored.
  // If you want to exclude components being registered, use negative globs with leading `!`.
  globs: ['src/components/*.{vue}'],

  // search for subdirectories
  deep: true,

  // resolvers for custom components
  resolvers: [],

  // generate `components.d.ts` global declarations,
  // also accepts a path for custom filename
  // default: `true` if package typescript is installed
  dts: false, // Note: This defaults to true if 'typescript' is installed in the project.

  // Allow subdirectories as namespace prefix for components.
  directoryAsNamespace: false,

  // Collapse same prefixes (camel-sensitive) of folders and components
  // to prevent duplication inside namespaced component name.
  // works when `directoryAsNamespace: true`
  collapseSamePrefixes: false,

  // Subdirectory paths for ignoring namespace prefixes.
  // works when `directoryAsNamespace: true`
  globalNamespaces: [],

  // auto import for directives
  // default: `true` for Vue 3, `false` for Vue 2
  // Babel is needed to do the transformation for Vue 2, it's disabled by default for performance concerns.
  // To install Babel, run: `npm install -D @babel/parser`
  directives: true, // This is true for Vue 3 by default.

  // Transform path before resolving
  importPathTransform: v => v,

  // Allow for components to override other components with the same name
  allowOverrides: false,

  // Filters for transforming targets (components to insert the auto import)
  // Note these are NOT about including/excluding components registered - use `globs` or `excludeNames` for that
  include: [/\.vue$/, /\.vue\?vue/, /\.vue\.[tj]sx?\?vue/],
  exclude: [/[\\/]node_modules[\\/]/, /[\\/]\.git[\\/]/, /[\\/]\.nuxt[\\/]/],

  // Filters for component names that will not be imported
  // Use for globally imported async components or other conflicts that the plugin cannot detect
  excludeNames: [/^Async.+/],

  // Vue version of project. It will detect automatically if not specified.
  // Acceptable value: 2 | 2.7 | 3
  version: 2.7, // This will be auto-detected. The example shows 2.7, but it will adapt to your project's Vue version.

  // Only provide types of components in library (registered globally)
  types: []
})
```

In your `vite.config.ts` file, you are currently overriding the `resolvers` option. All other options will use their default values as listed above.
For example, by default, it looks for components in `src/components`. If your components are in a different directory, you would need to configure the `dirs` option.
Also, `dts` is `false` by default, but if you have TypeScript installed (which is likely in a Vite project), it will default to `true` and generate a `components.d.ts` file. Your current configuration doesn't explicitly set `dts`, so its behavior will depend on whether `typescript` is a project dependency.

---

_**User**_

å¾ˆå¥½ï¼ŒæŠŠè¿™äº›é»˜è®¤é…ç½®ç¿»è¯‘æˆä¸­æ–‡

---

_**Assistant**_



---

å¥½çš„ï¼Œè¿™æ˜¯ `unplugin-vue-components/vite` é»˜è®¤é…ç½®çš„ä¸­æ–‡è¯´æ˜ï¼š

```javascript
Components({
  // ç”¨äºæœç´¢ç»„ä»¶çš„ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚
  dirs: ['src/components'],

  // ç»„ä»¶çš„æœ‰æ•ˆæ–‡ä»¶æ‰©å±•åã€‚
  extensions: ['vue'],

  // ç”¨äºåŒ¹é…è¢«æ£€æµ‹ä¸ºç»„ä»¶çš„æ–‡ä»¶åçš„ Glob æ¨¡å¼ã€‚
  // æŒ‡å®šæ­¤é€‰é¡¹åï¼Œ`dirs`ã€`extensions` å’Œ `directoryAsNamespace` é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚
  // å¦‚æœè¦æ’é™¤æŸäº›ç»„ä»¶è¢«æ³¨å†Œï¼Œè¯·ä½¿ç”¨å¸¦å‰å¯¼ `!` çš„å¦å®š Glob æ¨¡å¼ã€‚
  globs: ['src/components/*.{vue}'],

  // æ˜¯å¦æœç´¢å­ç›®å½•ã€‚
  deep: true,

  // è‡ªå®šä¹‰ç»„ä»¶çš„è§£æå™¨ã€‚
  resolvers: [],

  // æ˜¯å¦ç”Ÿæˆ `components.d.ts` å…¨å±€å£°æ˜æ–‡ä»¶ï¼Œ
  // ä¹Ÿæ¥å—ä¸€ä¸ªè‡ªå®šä¹‰æ–‡ä»¶åçš„è·¯å¾„ã€‚
  // é»˜è®¤ï¼šå¦‚æœé¡¹ç›®ä¸­å®‰è£…äº† typescriptï¼Œåˆ™ä¸º `true`ã€‚
  dts: false, // æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸­å®‰è£…äº† 'typescript'ï¼Œæ­¤é¡¹é»˜è®¤ä¸º trueã€‚

  // æ˜¯å¦å…è®¸å­ç›®å½•ä½œä¸ºç»„ä»¶çš„å‘½åç©ºé—´å‰ç¼€ã€‚
  directoryAsNamespace: false,

  // æ˜¯å¦æŠ˜å æ–‡ä»¶å¤¹å’Œç»„ä»¶çš„ç›¸åŒå‰ç¼€ï¼ˆé©¼å³°æ•æ„Ÿï¼‰ï¼Œ
  // ä»¥é˜²æ­¢å‘½åç©ºé—´ç»„ä»¶åç§°ä¸­çš„é‡å¤ã€‚
  // å½“ `directoryAsNamespace: true` æ—¶ç”Ÿæ•ˆã€‚
  collapseSamePrefixes: false,

  // ç”¨äºå¿½ç•¥å‘½åç©ºé—´å‰ç¼€çš„å­ç›®å½•è·¯å¾„ã€‚
  // å½“ `directoryAsNamespace: true` æ—¶ç”Ÿæ•ˆã€‚
  globalNamespaces: [],

  // æ˜¯å¦è‡ªåŠ¨å¯¼å…¥æŒ‡ä»¤ã€‚
  // é»˜è®¤ï¼šVue 3 ä¸º `true`ï¼ŒVue 2 ä¸º `false`ã€‚
  // Vue 2 éœ€è¦ Babel è¿›è¡Œè½¬æ¢ï¼Œå‡ºäºæ€§èƒ½è€ƒè™‘é»˜è®¤ç¦ç”¨ã€‚
  // è¦å®‰è£… Babelï¼Œè¯·è¿è¡Œï¼š`npm install -D @babel/parser`ã€‚
  directives: true, // Vue 3 é»˜è®¤ä¸º trueã€‚

  // è§£æå‰è½¬æ¢è·¯å¾„ã€‚
  importPathTransform: v => v,

  // æ˜¯å¦å…è®¸åŒåç»„ä»¶è¦†ç›–å…¶ä»–ç»„ä»¶ã€‚
  allowOverrides: false,

  // ç”¨äºè½¬æ¢ç›®æ ‡ï¼ˆæ’å…¥è‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶ï¼‰çš„è¿‡æ»¤å™¨ã€‚
  // æ³¨æ„ï¼šè¿™äº›ä¸åŒ…å«/æ’é™¤å·²æ³¨å†Œçš„ç»„ä»¶æ— å…³ - ä¸ºæ­¤è¯·ä½¿ç”¨ `globs` æˆ– `excludeNames`ã€‚
  include: [/\.vue$/, /\.vue\?vue/, /\.vue\.[tj]sx?\?vue/],
  exclude: [/[\\/]node_modules[\\/]/, /[\\/]\.git[\\/]/, /[\\/]\.nuxt[\\/]/],

  // ä¸ä¼šè¢«å¯¼å…¥çš„ç»„ä»¶åç§°çš„è¿‡æ»¤å™¨ã€‚
  // ç”¨äºå…¨å±€å¯¼å…¥çš„å¼‚æ­¥ç»„ä»¶æˆ–æ’ä»¶æ— æ³•æ£€æµ‹åˆ°çš„å…¶ä»–å†²çªã€‚
  excludeNames: [/^Async.+/],

  // é¡¹ç›®çš„ Vue ç‰ˆæœ¬ã€‚å¦‚æœæœªæŒ‡å®šï¼Œå°†è‡ªåŠ¨æ£€æµ‹ã€‚
  // å¯æ¥å—çš„å€¼ï¼š2 | 2.7 | 3ã€‚
  version: 2.7, // æ­¤é¡¹ä¼šè‡ªåŠ¨æ£€æµ‹ã€‚ç¤ºä¾‹æ˜¾ç¤ºçš„æ˜¯ 2.7ï¼Œä½†å®ƒä¼šé€‚åº”æ‚¨é¡¹ç›®çš„ Vue ç‰ˆæœ¬ã€‚

  // ä»…æä¾›åº“ä¸­ï¼ˆå…¨å±€æ³¨å†Œï¼‰ç»„ä»¶çš„ç±»å‹ã€‚
  types: []
})
```

---

_**User**_

è§£é‡Šä¸€ä¸‹â€œdirectivesâ€è®¾ä¸ºtrueåçš„æ•ˆæœ

---

_**Assistant**_



---

å½“ `unplugin-vue-components` é…ç½®ä¸­çš„ `directives` é€‰é¡¹è®¾ç½®ä¸º `true` æ—¶ï¼Œå®ƒä¼šå¯ç”¨æŒ‡ä»¤çš„è‡ªåŠ¨å¯¼å…¥åŠŸèƒ½ã€‚

å…·ä½“æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼š

1.  **è‡ªåŠ¨å¯¼å…¥æŒ‡ä»¤ (Automatic Directive Importing)**: å°±åƒå®ƒè‡ªåŠ¨å¯¼å…¥ä½ åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çš„ç»„ä»¶ä¸€æ ·ï¼Œè¯¥æ’ä»¶ä¹Ÿä¼šæ‰«æä½ çš„æ¨¡æ¿ï¼ŒæŸ¥æ‰¾ä½¿ç”¨çš„æŒ‡ä»¤ï¼ˆä¾‹å¦‚è‡ªå®šä¹‰æŒ‡ä»¤ï¼‰ã€‚å¦‚æœæ‰¾åˆ°äº†ï¼Œå®ƒä¼šè‡ªåŠ¨å¯¼å…¥è¿™äº›æŒ‡ä»¤ï¼Œä½ æ— éœ€åœ¨ `<script setup>` æˆ–ç»„ä»¶çš„ `directives` é€‰é¡¹ä¸­æ‰‹åŠ¨å¯¼å…¥å’Œæ³¨å†Œå®ƒä»¬ã€‚

2.  **æ”¯æŒ Vue 3 å’Œ Vue 2 (Vue 3 and Vue 2 Support)**:
    *   å¯¹äº **Vue 3**ï¼Œæ­¤åŠŸèƒ½é€šå¸¸å¼€ç®±å³ç”¨ï¼Œå¹¶ä¸” `directives: true` æ˜¯é»˜è®¤è¡Œä¸ºã€‚
    *   å¯¹äº **Vue 2**ï¼Œè‡ªåŠ¨å¯¼å…¥æŒ‡ä»¤éœ€è¦ Babel è¿›è¡Œä»£ç è½¬æ¢ã€‚å› æ­¤ï¼Œåœ¨ Vue 2 é¡¹ç›®ä¸­ï¼Œ`directives` é»˜è®¤æ˜¯ `false` ä»¥é¿å…ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœä½ åœ¨ Vue 2 é¡¹ç›®ä¸­å°†å…¶è®¾ç½®ä¸º `true`ï¼Œä½ éœ€è¦ç¡®ä¿é¡¹ç›®ä¸­å·²å®‰è£…å¹¶é…ç½®äº† Babel (`@babel/parser`)ã€‚

3.  **ç®€åŒ–å¼€å‘ (Simplified Development)**: ä¸»è¦çš„å¥½å¤„æ˜¯ç®€åŒ–äº†å¼€å‘æµç¨‹ã€‚ä½ ä¸å¿…å†ä¸ºæ¯ä¸ªç”¨åˆ°çš„è‡ªå®šä¹‰æŒ‡ä»¤éƒ½å†™ä¸€è¡Œ `import` è¯­å¥å¹¶æ³¨å†Œå®ƒï¼Œæ’ä»¶ä¼šå¸®ä½ å¤„ç†ã€‚è¿™èƒ½è®©ä½ çš„ç»„ä»¶ä»£ç æ›´ç®€æ´ã€‚

**ç¤ºä¾‹åœºæ™¯ï¼š**

å‡è®¾ä½ æœ‰ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤å«åš `v-focus`ï¼Œç”¨äºåœ¨å…ƒç´ æŒ‚è½½æ—¶è‡ªåŠ¨èšç„¦ã€‚

**ä¸ä½¿ç”¨ `directives: true` (æˆ–è®¾ä¸º `false`) æ—¶ï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·åšï¼š**

```vue
<template>
  <input v-focus />
</template>

<script setup>
import { vFocus } from './directives/focus'; // æ‰‹åŠ¨å¯¼å…¥
// æˆ–è€…åœ¨é€‰é¡¹å¼ API ä¸­
// directives: {
//   focus: vFocus
// }
</script>
```

**å½“ `directives: true` æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š**

```vue
<template>
  <input v-focus />
</template>

<script setup>
// æ— éœ€æ‰‹åŠ¨å¯¼å…¥ v-focusï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†
// (å‡è®¾ v-focus æŒ‡ä»¤æ–‡ä»¶ä½äºæ’ä»¶æ‰«æçš„ç›®å½•å†…ï¼Œæˆ–è€…æœ‰ç›¸åº”çš„ resolver)
</script>
```

æ€»è€Œè¨€ä¹‹ï¼Œ`directives: true` ä½¿å¾—åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æŒ‡ä»¤ï¼ˆç‰¹åˆ«æ˜¯è‡ªå®šä¹‰æŒ‡ä»¤ï¼‰æ›´åŠ æ–¹ä¾¿ï¼Œå‡å°‘äº†æ¨¡æ¿ä»£ç ï¼Œå¹¶è®©ç»„ä»¶çš„ `script` éƒ¨åˆ†æ›´åŠ å¹²å‡€ã€‚

---

_**User**_

å¾ˆå¥½ï¼Œ@vite.config.ts ç°åœ¨æˆ‘ä½¿ç”¨componentsçš„æ’ä»¶åªæ˜¯ä¸ºäº†ä½¿ç”¨NutUIResolverï¼Œè¿™ä¸ªæ’ä»¶çš„å…¶ä»–åŠŸèƒ½éƒ½ä¸éœ€è¦ï¼Œå¦‚auto directiveså’Œé»˜è®¤çš„include src/componentsï¼Œè¯·ä¿®æ”¹é…ç½®ã€‚å¹¶ä¸”æ£€æŸ¥è¯¥æ’ä»¶æ˜¯å¦è¿˜æœ‰å…¶ä»–åŠŸèƒ½è¢«é»˜è®¤å¼€å¯

---

_**Assistant**_



---

